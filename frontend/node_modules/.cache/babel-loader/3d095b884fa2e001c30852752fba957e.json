{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Luis/Documents/BOOTCAMP/MODULO 3/MERN/mytinerary-DITIERI/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Luis\\\\Documents\\\\BOOTCAMP\\\\MODULO 3\\\\MERN\\\\mytinerary-DITIERI\\\\frontend\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from'axios';var userActions={signUpUser:function signUpUser(userData){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch,getState){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post('http://localhost:4000/api/auth/signUp',{userData:userData});case 2:res=_context.sent;console.log(res.data);dispatch({type:'message',payload:{view:true,message:res.data.message,success:res.data.success}});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();},signInUser:function signInUser(loggedUser){console.log(loggedUser);return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch,getState){var user;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.post('http://localhost:4000/api/auth/signIn',{loggedUser:loggedUser});case 2:user=_context2.sent;if(user.data.success){localStorage.setItem(\"token\",user.data.response.token);dispatch({type:'user',payload:user.data.response.userData});}dispatch({type:'message',payload:{view:true,message:user.data.message,success:user.data.success}});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}();},SignOutUser:function SignOutUser(closeuser){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch,getState){var user;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:/* console.log(\"signout\") */user=axios.post('http://localhost:4000/api/auth/signOut',{closeuser:closeuser});localStorage.removeItem(\"token\");dispatch({type:'user',payload:null});case 3:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x5,_x6){return _ref3.apply(this,arguments);};}();},VerificarToken:function VerificarToken(token){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch,getState){var user;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log(token);_context4.next=3;return axios.get('http://localhost:4000/api/auth/signInToken',{headers:{'Authorization':'Bearer '+token}});case 3:user=_context4.sent;console.log(user);if(user.data.success){dispatch({type:'user',payload:user.data.response});dispatch({type:'message',payload:{view:true,message:user.data.message,success:user.data.success}});}else{localStorage.removeItem('token');}case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x7,_x8){return _ref4.apply(this,arguments);};}();}};export default userActions;","map":{"version":3,"sources":["C:/Users/Luis/Documents/BOOTCAMP/MODULO 3/MERN/mytinerary-DITIERI/frontend/src/redux/actions/userActions.js"],"names":["axios","userActions","signUpUser","userData","dispatch","getState","post","res","console","log","data","type","payload","view","message","success","signInUser","loggedUser","user","localStorage","setItem","response","token","SignOutUser","closeuser","removeItem","VerificarToken","get","headers"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nconst userActions = {\n\n    signUpUser: (userData) => {\n        return async (dispatch, getState) => {\n\n            const res = await axios.post('http://localhost:4000/api/auth/signUp', { userData })\n            console.log(res.data)\n            dispatch({type: 'message', \n                       payload: {view: true, message: res.data.message, success: res.data.success}});\n            \n        }\n    },\n    signInUser: (loggedUser) => {\n        console.log(loggedUser)\n        return async (dispatch, getState) => {\n            const user = await axios.post('http://localhost:4000/api/auth/signIn', { loggedUser })\n            if(user.data.success){\n                localStorage.setItem(\"token\",user.data.response.token) \n               dispatch({type: 'user', payload: user.data.response.userData});\n            }\n               dispatch({type: 'message',\n               payload: {view: true,\n                         message: user.data.message,\n                         success: user.data.success}});\n            \n\n        } \n    },\n    SignOutUser :(closeuser)=>{\n        return async (dispatch, getState) => {\n            /* console.log(\"signout\") */\n        const user = axios.post('http://localhost:4000/api/auth/signOut',{closeuser})\n        localStorage.removeItem(\"token\")\n        dispatch({type: 'user', payload: null});\n    } \n},\n    VerificarToken: (token) => {\n\n        return async (dispatch, getState) => {\n            console.log(token)\n            const user = await axios.get('http://localhost:4000/api/auth/signInToken', {\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                }\n            })\n            console.log(user)\n            \n            if (user.data.success) {\n                dispatch({ type: 'user', payload: user.data.response });\n                dispatch({\n                    type: 'message',\n                    payload: {\n                        view: true,\n                        message: user.data.message,\n                        success: user.data.success\n                    }\n                });\n            } else {\n                localStorage.removeItem('token')\n            }\n\n        }\n    }\n}\nexport default userActions;"]},"metadata":{},"sourceType":"module"}