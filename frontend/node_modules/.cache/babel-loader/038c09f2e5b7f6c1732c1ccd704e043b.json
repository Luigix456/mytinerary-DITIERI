{"ast":null,"code":"/* import * as React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { useParams } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport itinerariesActions from '../redux/actions/itinerariesActions';\r\nimport { styled } from '@mui/material/styles';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\n  const ExpandMore = styled((props) => {\r\n    const { expand, ...other } = props;\r\n    return <IconButton {...other} />;\r\n  })(({ theme, expand }) => ({\r\n    transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  }));\r\n  \r\n  const Likes = (props) => {\r\n    \r\n    \r\n    console.log(props.itineraries.id)\r\n    const [expanded, setExpanded] = React.useState(false);\r\n    const handleExpandClick = () => {\r\n        setExpanded(!expanded);\r\n      };\r\n    const {id} = useParams()\r\n    const [reload, setReload] = useState(false)\r\n    const [likes, setLikes] = useState(props.itineraries.likes)\r\n\r\n    useEffect(() => {\r\n        \r\n      props.getOneItinerary(props.id)\r\n      .then( response => setLikes(response.data.response.likes))\r\n      }, [!reload]);\r\n      \r\n    async function likesOrDislikes() {\r\n        await props.likeDislike(props.itineraries._id)\r\n        setReload(!reload)\r\n    }    \r\n\r\n\r\n\r\n\r\nreturn (\r\n    <CardActions disableSpacing>\r\n\r\n\r\n        <div className=\"likeDislike d-flex\">\r\n\r\n                    {props.user ?\r\n                    (<button onClick={likesOrDislikes}>{likes.includes(props.user.id) ?\r\n                        <span style={{ color: \"red\", fontSize:30 }} className=\"material-icons\">favorite</span> :\r\n                        <span style={{  fontSize:30 }}className=\"material-icons\">favorite_border</span>}</button>)\r\n\r\n                    : (<span style={{  fontSize:30 }} className=\"material-icons\">favorite_border</span>)}\r\n\r\n                    {<h3 style={{  color:\"black \",fontSize:30 }}>{likes.length}</h3>}\r\n        </div>\r\n      \r\n    </CardActions>\r\n)\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n          getOneItinerary:itinerariesActions.getOneItinerary,\r\n          likeDislike: itinerariesActions.likeDislike,\r\n          \r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n            itineraries: state.itinerariesReducer.itineraries, \r\n            user: state.userReducer.user, \r\n             \r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Likes) */","map":{"version":3,"sources":["C:/Users/Luis/Documents/BOOTCAMP/MODULO 3/MERN/mytinerary-DITIERI/src/components/likes.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["/* import * as React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { useParams } from 'react-router-dom';\r\nimport { useState, useEffect } from 'react';\r\nimport CardActions from '@mui/material/CardActions';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport itinerariesActions from '../redux/actions/itinerariesActions';\r\nimport { styled } from '@mui/material/styles';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\n  const ExpandMore = styled((props) => {\r\n    const { expand, ...other } = props;\r\n    return <IconButton {...other} />;\r\n  })(({ theme, expand }) => ({\r\n    transform: !expand ? 'rotate(0deg)' : 'rotate(180deg)',\r\n    marginLeft: 'auto',\r\n    transition: theme.transitions.create('transform', {\r\n      duration: theme.transitions.duration.shortest,\r\n    }),\r\n  }));\r\n  \r\n  const Likes = (props) => {\r\n    \r\n    \r\n    console.log(props.itineraries.id)\r\n    const [expanded, setExpanded] = React.useState(false);\r\n    const handleExpandClick = () => {\r\n        setExpanded(!expanded);\r\n      };\r\n    const {id} = useParams()\r\n    const [reload, setReload] = useState(false)\r\n    const [likes, setLikes] = useState(props.itineraries.likes)\r\n\r\n    useEffect(() => {\r\n        \r\n      props.getOneItinerary(props.id)\r\n      .then( response => setLikes(response.data.response.likes))\r\n      }, [!reload]);\r\n      \r\n    async function likesOrDislikes() {\r\n        await props.likeDislike(props.itineraries._id)\r\n        setReload(!reload)\r\n    }    \r\n\r\n\r\n\r\n\r\nreturn (\r\n    <CardActions disableSpacing>\r\n\r\n\r\n        <div className=\"likeDislike d-flex\">\r\n\r\n                    {props.user ?\r\n                    (<button onClick={likesOrDislikes}>{likes.includes(props.user.id) ?\r\n                        <span style={{ color: \"red\", fontSize:30 }} className=\"material-icons\">favorite</span> :\r\n                        <span style={{  fontSize:30 }}className=\"material-icons\">favorite_border</span>}</button>)\r\n\r\n                    : (<span style={{  fontSize:30 }} className=\"material-icons\">favorite_border</span>)}\r\n\r\n                    {<h3 style={{  color:\"black \",fontSize:30 }}>{likes.length}</h3>}\r\n        </div>\r\n      \r\n    </CardActions>\r\n)\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n          getOneItinerary:itinerariesActions.getOneItinerary,\r\n          likeDislike: itinerariesActions.likeDislike,\r\n          \r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n            itineraries: state.itinerariesReducer.itineraries, \r\n            user: state.userReducer.user, \r\n             \r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Likes) */\r\n"]},"metadata":{},"sourceType":"module"}