{"ast":null,"code":"import axios from 'axios';\nconst userActions = {\n  signUpUser: userData => {\n    return async (dispatch, getState) => {\n      const res = await axios.post('http://localhost:4000/api/auth/signUp', {\n        userData\n      });\n      console.log(res.data);\n      dispatch({\n        type: 'message',\n        payload: {\n          view: true,\n          message: res.data.message,\n          success: res.data.success\n        }\n      });\n    };\n  },\n  signInUser: loggedUser => {\n    console.log(loggedUser);\n    return async (dispatch, getState) => {\n      const user = await axios.post('http://localhost:4000/api/auth/signIn', {\n        loggedUser\n      });\n\n      if (user.data.success) {\n        localStorage.setItem(\"token\", user.data.response.token);\n        dispatch({\n          type: 'user',\n          payload: user.data.response.userData\n        });\n      }\n\n      dispatch({\n        type: 'message',\n        payload: {\n          view: true,\n          message: user.data.message,\n          success: user.data.success\n        }\n      });\n    };\n  },\n  SignOutUser: closeuser => {\n    return async (dispatch, getState) => {\n      /* console.log(\"signout\") */\n      const user = axios.post('http://localhost:4000/api/auth/signOut', {\n        closeuser\n      });\n      localStorage.removeItem(\"token\");\n      dispatch({\n        type: 'user',\n        payload: null\n      });\n    };\n  },\n  VerificarToken: token => {\n    return async (dispatch, getState) => {\n      console.log(token);\n      const user = await axios.get('http://localhost:4000/api/auth/signInToken', {\n        headers: {\n          'Authorization': 'Bearer ' + token\n        }\n      });\n      console.log(user);\n\n      if (user.data.success) {\n        dispatch({\n          type: 'user',\n          payload: user.data.response\n        });\n        dispatch({\n          type: 'message',\n          payload: {\n            view: true,\n            message: user.data.message,\n            success: user.data.success\n          }\n        });\n      } else {\n        localStorage.removeItem('token');\n      }\n    };\n  }\n};\nexport default userActions;","map":{"version":3,"sources":["C:/Users/Luis/Documents/BOOTCAMP/MODULO 3/MERN/mytinerary-DITIERI/src/redux/actions/userActions.js"],"names":["axios","userActions","signUpUser","userData","dispatch","getState","res","post","console","log","data","type","payload","view","message","success","signInUser","loggedUser","user","localStorage","setItem","response","token","SignOutUser","closeuser","removeItem","VerificarToken","get","headers"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\n\r\nconst userActions = {\r\n\r\n    signUpUser: (userData) => {\r\n        return async (dispatch, getState) => {\r\n\r\n            const res = await axios.post('http://localhost:4000/api/auth/signUp', { userData })\r\n            console.log(res.data)\r\n            dispatch({type: 'message', \r\n                       payload: {view: true, message: res.data.message, success: res.data.success}});\r\n            \r\n        }\r\n    },\r\n    signInUser: (loggedUser) => {\r\n        console.log(loggedUser)\r\n        return async (dispatch, getState) => {\r\n            const user = await axios.post('http://localhost:4000/api/auth/signIn', { loggedUser })\r\n            if(user.data.success){\r\n                localStorage.setItem(\"token\",user.data.response.token) \r\n               dispatch({type: 'user', payload: user.data.response.userData});\r\n            }\r\n               dispatch({type: 'message',\r\n               payload: {view: true,\r\n                         message: user.data.message,\r\n                         success: user.data.success}});\r\n            \r\n\r\n        } \r\n    },\r\n    SignOutUser :(closeuser)=>{\r\n        return async (dispatch, getState) => {\r\n            /* console.log(\"signout\") */\r\n        const user = axios.post('http://localhost:4000/api/auth/signOut',{closeuser})\r\n        localStorage.removeItem(\"token\")\r\n        dispatch({type: 'user', payload: null});\r\n    } \r\n},\r\n    VerificarToken: (token) => {\r\n\r\n        return async (dispatch, getState) => {\r\n            console.log(token)\r\n            const user = await axios.get('http://localhost:4000/api/auth/signInToken', {\r\n                headers: {\r\n                    'Authorization': 'Bearer ' + token\r\n                }\r\n            })\r\n            console.log(user)\r\n            \r\n            if (user.data.success) {\r\n                dispatch({ type: 'user', payload: user.data.response });\r\n                dispatch({\r\n                    type: 'message',\r\n                    payload: {\r\n                        view: true,\r\n                        message: user.data.message,\r\n                        success: user.data.success\r\n                    }\r\n                });\r\n            } else {\r\n                localStorage.removeItem('token')\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\nexport default userActions;"]},"metadata":{},"sourceType":"module"}